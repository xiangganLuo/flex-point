# Flex Point Test 测试用例说明

本目录下包含 Flex Point 框架各核心模块的单元测试与集成测试，覆盖基础能力、扩展机制、复杂业务规则等多种场景。

---

## 📦 测试模块结构

- **ConfigTest**：配置模块测试
- **ExtensionRegistryTest**：扩展点注册中心测试
- **MonitorTest**：监控模块测试
- **ResolutionTest**：解析策略相关测试
- **IntegrationTest**：全流程集成测试
- **complx/**：复杂业务规则场景测试（如灰度、A/B、多字段匹配等）

---

## 🧪 主要测试目标

### 1. 配置（config）
- 默认配置、开关、校验、禁用场景

### 2. 扩展点注册中心（extension）
- 注册、查找、注销、重复注册、并发注册

### 3. 监控（monitor）
- 调用统计、异常统计、指标重置、监控开关

### 4. 解析策略（resolution）
- 策略注册、注解优先、上下文动态选择、策略未找到异常

### 5. 集成（integration）
- 注册、查找、解析、监控、注销等全流程

### 6. 复杂业务规则（complx）
- 灰度发布、A/B测试、多字段动态匹配等

---

## 🚀 如何运行

在项目根目录下执行：

```bash
mvn -pl flexpoint-test test
```

或在IDE中直接运行各测试类。

---

## 📝 典型场景举例

### 灰度发布
- 根据用户分组动态选择灰度/普通实现

### 多版本动态切换
- 解析策略根据 code+version 多字段动态选择实现

### 注解优先级
- @ExtensionResolverSelector 注解指定策略优先于全局策略

### 并发注册
- 多线程并发注册扩展点，验证线程安全

---

## 🧩 扩展说明

- 可根据实际业务需求，新增更复杂的解析策略、上下文注入、灰度比例、A/B分流等测试用例。
- 推荐每个新特性/新场景都补充对应的单元测试，保障主流程和扩展机制的健壮性。

---

## 📄 相关文档

- [Flex Point 主项目 README](../README.md)
- [核心架构说明](../statics/ARCHITECTURE.md)

---

如有更多测试需求或建议，欢迎补充！ 